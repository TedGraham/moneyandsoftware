<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Multicast Send Performance - Money &amp; Software</title><link rel="canonical" href="https://tedgraham.github.io/moneyandsoftware/multicast-send-performance.html"><link rel="amphtml" href="https://tedgraham.github.io/moneyandsoftware/amp/multicast-send-performance.html"><link type="application/atom+xml" rel="alternate" href="https://tedgraham.github.io/moneyandsoftware/feed.xml"><meta property="og:title" content="Multicast Send Performance"><meta property="og:site_name" content="My blog - Money & Software"><meta property="og:description" content="We recently completed an analysis of multicast sending performance. Happily, Java and C performed almost identically as we tested different traffic sending rates on Windows and Solaris. However, we noticed that the time to send a multicast message increases as the time between sends increases."><link rel="stylesheet" href="https://tedgraham.github.io/moneyandsoftware/assets/css/style.css?v=1532136199b653b09b5bf45ab0bdb05b"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://tedgraham.github.io/moneyandsoftware/multicast-send-performance.html"},"headline":"Multicast Send Performance","datePublished":"2009-09-18T07:21","dateModified":"2018-02-21T16:02","description":"We recently completed an analysis of multicast sending performance. Happily, Java and C performed almost identically as we tested different traffic sending rates on Windows and Solaris. However, we noticed that the time to send a multicast message increases as the time between sends increases.","author":{"@type":"Person","name":"Ted Graham"},"publisher":{"@type":"Organization","name":"Ted Graham"}}</script><script async src="https://tedgraham.github.io/moneyandsoftware/assets/js/lazysizes.min.js?v=739e7d27e1cbc58b1b2e6882674b8867"></script><style>.infobar__search [type="search"] {
	                     background-image: url(https://tedgraham.github.io/moneyandsoftware/assets/svg/search.svg);
	                 }</style></head><body><header class="topbar js-top is-sticky"><div class="topbar__inner"><a class="logo" href="https://tedgraham.github.io/moneyandsoftware">Money &amp; Software</a><nav class="navbar js-navbar"><button class="navbar__toggle js-navbar__toggle">Menu</button><ul class="navbar__menu"></ul></nav></div></header><div class="content"><div class="infobar"><div class="infobar__update">Last Updated: <time datetime="2018-02-21T16:16">February 21, 2018</time></div><div class="infobar__search"><form action="https://tedgraham.github.io/moneyandsoftware/search.html"><input type="search" name="q" placeholder=" search..."></form></div></div><main class="main"><article class="post"><header class="u-header post__header"><h1>Multicast Send Performance</h1><div class="u-header__meta u-small"><div><a href="https://tedgraham.github.io/moneyandsoftware/authors/ted-graham/" title="Ted Graham">Ted Graham</a> <time datetime="2009-09-18T07:21">September 18, 2009</time></div></div></header><div class="post__entry u-inner"><p>We recently completed an analysis of multicast sending performance.  Happily, Java and C performed almost identically as we tested different traffic sending rates on Windows and Solaris.</p><p>However, we noticed that the time to send a multicast message increases as the time between sends increases.  The more frequently we call send, the less time it takes to complete the send call.</p><p>The application lets us control the amount of time we wait between calling send, below you see the time increasing as the delay between packets goes up.  When sending 1000 packets/second (1 ms wait time), it only takes 13 microseconds to call send.  At 1 packet/second (1000 ms wait time), that time increases to 20 microseconds.</p><p>Wait time (ms)                      us to send</p><p>0                                                  8.67<br>1                                                  12.97<br>10                                               13.06<br>100                                            18.03<br>1000                                         20.82<br>10000                                      57.20</p><p>We see this phenomenon from both Java and C and on both Windows and Solaris.  We’re testing on a Dell 1950 server, with an Intel Pro 1000 dual port network card.  Micro-benchmarking is hard, <a title="http://wikis.sun.com/display/HotSpotInternals/MicroBenchmarks" href="http://wikis.sun.com/display/HotSpotInternals/MicroBenchmarks">especially in Java</a>, but we don’t think this is related to JITing or GC.</p><p>The java code is <a href="http://www.moneyandsoftware.com/wp-content/uploads/2009/09/MulticastSender.java">here</a>, I've been running it with a command line like:</p><blockquote><p>java -XX:+PrintCompilation -verbose:gc MulticastSender 10.144.124.86 224.0.62.4 30000 0 100</p></blockquote></div><aside class="post__aside"><div class="post__last-updated u-small">This article was updated on February 21, 2018</div><div class="post__share"><a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Ftedgraham.github.io%2Fmoneyandsoftware%2Fmulticast-send-performance.html" class="js-share facebook" title="Share with Facebook" rel="nofollow"><svg class="u-icon"><use xlink:href="https://tedgraham.github.io/moneyandsoftware/assets/svg/svg-map.svg#facebook"/></svg> </a><a href="https://twitter.com/share?url=https%3A%2F%2Ftedgraham.github.io%2Fmoneyandsoftware%2Fmulticast-send-performance.html&amp;via=Money &amp; Software&amp;text=Multicast%20Send%20Performance" class="js-share twitter" title="Share with Twitter" rel="nofollow"><svg class="u-icon"><use xlink:href="https://tedgraham.github.io/moneyandsoftware/assets/svg/svg-map.svg#twitter"/></svg> </a><a href="https://plus.google.com/share?url=https%3A%2F%2Ftedgraham.github.io%2Fmoneyandsoftware%2Fmulticast-send-performance.html" class="js-share gplus" title="Share with Google Plus" rel="nofollow"><svg class="u-icon"><use xlink:href="https://tedgraham.github.io/moneyandsoftware/assets/svg/svg-map.svg#gplus"/></svg> </a><a href="https://pinterest.com/pin/create/button/?url=https%3A%2F%2Ftedgraham.github.io%2Fmoneyandsoftware%2Fmulticast-send-performance.html&amp;media=undefined
                                &amp;description=Multicast%20Send%20Performance" class="js-share pinterest" title="Share with Pinterest" rel="nofollow"><svg class="u-icon"><use xlink:href="https://tedgraham.github.io/moneyandsoftware/assets/svg/svg-map.svg#pinterest"/></svg> </a><a href="http://www.stumbleupon.com/submit?url=https%3A%2F%2Ftedgraham.github.io%2Fmoneyandsoftware%2Fmulticast-send-performance.html&amp;title=Multicast%20Send%20Performance" class="js-share stumbleupon" title="Share with StumbleUpon" rel="nofollow"><svg class="u-icon"><use xlink:href="https://tedgraham.github.io/moneyandsoftware/assets/svg/svg-map.svg#stumbleupon"/></svg> </a><a href="http://www.linkedin.com/shareArticle?url=https%3A%2F%2Ftedgraham.github.io%2Fmoneyandsoftware%2Fmulticast-send-performance.html&amp;title=Multicast%20Send%20Performance" class="js-share linkedin" title="Share with LinkedIn" rel="nofollow"><svg class="u-icon"><use xlink:href="https://tedgraham.github.io/moneyandsoftware/assets/svg/svg-map.svg#linkedin"/></svg> </a><a href="https://buffer.com/add?text=Multicast%20Send%20Performance&amp;url=https%3A%2F%2Ftedgraham.github.io%2Fmoneyandsoftware%2Fmulticast-send-performance.html" class="js-share buffer" title="Share with Buffer" rel="nofollow"><svg class="u-icon"><use xlink:href="https://tedgraham.github.io/moneyandsoftware/assets/svg/svg-map.svg#buffer"/></svg></a></div></aside><footer class="post__footer"><a href="https://tedgraham.github.io/moneyandsoftware/multicast-send-performance.html#disqus_thread" data-disqus-identifier="38" class="u-comment-count" rel="nofollow">0</a><div class="post__bio u-author box"><div><h4 class="u-author__name"><a href="https://tedgraham.github.io/moneyandsoftware/authors/ted-graham/" title="Ted Graham">Ted Graham</a></h4></div></div><nav class="post__nav box"><div class="post__nav__prev"><a href="https://tedgraham.github.io/moneyandsoftware/system-admin-wanted-for-trading-firm.html" class="post__nav__link" rel="prev"><div class="u-small">Previous Post<h5>System Admin wanted for trading firm</h5></div></a></div><div class="post__nav__next"><a href="https://tedgraham.github.io/moneyandsoftware/algorithms-are-everywhere.html" class="post__nav__link" rel="next"><div class="u-small">Next Post<h5>Algorithms are everywhere</h5></div></a></div></nav></footer></article><div class="comments box"><h3 class="box__title">Comments</h3><div id="disqus_thread"></div><script>var disqus_config = function () {
                        this.page.url = 'https://tedgraham.github.io/moneyandsoftware/multicast-send-performance.html';
                		this.page.identifier = '38';
                        this.page.title = 'Multicast Send Performance - Money &amp; Software ';
                    };
                
                    var disqus_loaded = false;
                
                    function publiiLoadDisqus() {
                        if(disqus_loaded) {
                            return false;
                        }
                
                        var top = document.getElementById('disqus_thread').offsetTop;
                
                        if (!disqus_loaded && (window.scrollY || window.pageYOffset) + window.innerHeight > top) {
                            disqus_loaded = true;
                
                            (function () {
                                var d = document, s = d.createElement('script');
                                s.src = '//.disqus.com/embed.js';
                                s.setAttribute('data-timestamp', +new Date());
                                (d.head || d.body).appendChild(s);
                            })();
                        }
                    }
                
                    publiiLoadDisqus();
                
                    window.onscroll = function() {
                        publiiLoadDisqus();
                    };</script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript></div></main><div class="sidebar"><section class="box"><h3 class="box__title">Tags</h3><ul class="tags"><li><a href="https://tedgraham.github.io/moneyandsoftware/general/">General</a> <span class="u-small">(16)</span></li><li><a href="https://tedgraham.github.io/moneyandsoftware/money/">Money</a> <span class="u-small">(6)</span></li><li><a href="https://tedgraham.github.io/moneyandsoftware/software-startups/">Software Startups</a> <span class="u-small">(16)</span></li><li><a href="https://tedgraham.github.io/moneyandsoftware/trading-software/">Trading Software</a> <span class="u-small">(1)</span></li></ul></section></div><footer class="footer"><a class="footer__logo" href="https://tedgraham.github.io/moneyandsoftware">Money &amp; Software</a><nav><ul class="footer__nav"></ul></nav><div class="footer__copyright">Powered by Publii</div></footer></div><script>var loadCSSFiles = function () {
            var links = ['https://fonts.googleapis.com/css?family=Roboto:400,500,700&amp;subset=latin-ext'],
                headElement = document.getElementsByTagName('head')[0],
                linkElement,
                i;
            for (i = 0; i < links.length; i = i + 1) {
                linkElement = document.createElement('link');
                linkElement.rel = 'stylesheet';
                linkElement.href = links[i];
                headElement.appendChild(linkElement);
            }
        };
        var raf = requestAnimationFrame || mozRequestAnimationFrame || webkitRequestAnimationFrame || msRequestAnimationFrame;
        if (raf) {
            raf(loadCSSFiles);
        } else {
            window.addEventListener('load', loadCSSFiles);
        }</script><script defer="defer" src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha256-k2WSCIexGzOj3Euiig+TlR8gA0EmPjuc79OEeY5L45g=" aria-dropeffect="" crossorigin="anonymous"></script><script defer="defer" src="https://tedgraham.github.io/moneyandsoftware/assets/js/scripts.min.js?v=07b53ae91f8045eab042a695e4a26034"></script><script id="dsq-count-scr" src="//.disqus.com/count.js" async></script></body></html>